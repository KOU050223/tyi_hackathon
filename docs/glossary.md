# 用語集 (Glossary)

璃奈ちゃんボード プロジェクトで使用される用語・概念の定義です。

## モード

### 表情認識モード (`/face`)

カメラで顔の表情をリアルタイムに認識し、璃奈ちゃんボードに反映するモードです。

- **入力**: カメラ（MediaPipe Face Landmarker）
- **処理**: 478個の3Dランドマーク + 52個のBlendshapeから10種類の表情を判定
- **権限**: カメラアクセスが必要

### 音声感情モード (`/voice`)

声のトーンや感情をAI（Hume AI）で解析し、璃奈ちゃんボードに反映するモードです。

- **入力**: マイク（Hume AI Streaming API）
- **処理**: 音声データをHume AIに送信し、感情分析結果を表情にマッピング
- **権限**: マイクアクセスが必要

### モード選択画面 (`/`)

ホーム画面。表情認識モードまたは音声感情モードを選択して開始します。

## 補助機能

### 音声コマンド

全モードで利用可能な音声操作機能です。ウェイクワード（「りな」「璃奈ちゃん」等）を検出した後、コマンドを受け付けます。

| コマンド                | 遷移先     | 説明                     |
| ----------------------- | ---------- | ------------------------ |
| ホーム / 戻る           | `/`        | ホーム画面に戻る         |
| 表情認識 / カメラモード | `/face`    | 表情認識モードを起動     |
| 音声感情 / ボイスモード | `/voice`   | 音声感情モードを起動     |
| ギャラリー              | `/gallery` | ギャラリーを開く         |
| エディターモード起動    | `/editor`  | ドット絵エディターを起動 |

## 表情タイプ

10種類の表情を優先度順に判定します。

| 表情     | 英名          | 判定条件（概要）                              |
| -------- | ------------- | --------------------------------------------- |
| まばたき | `blink`       | 両目が70%以上閉じている                       |
| 驚き     | `surprised`   | 口が60%以上開き、眉が50%以上上がっている      |
| 怒り     | `angry`       | 眉が50%以上下がっている                       |
| 得意気   | `smug`        | 片目のみ60%以上閉じている（ウインク）         |
| 笑顔     | `smile`       | 口角が50%以上上がっている                     |
| 悲しみ   | `sad`         | 口角が50%以上下がっている                     |
| 疑問     | `questioning` | 眉の外側が50%以上上がっている                 |
| 困惑     | `confused`    | 眉の内側が40%以上上がり、口角は下がっていない |
| 照れ     | `embarrassed` | 軽い笑顔(30-60%)と眉の動き(20-50%)            |
| 通常     | `neutral`     | デフォルト（いずれの条件にも該当しない場合）  |

## デバイスタイプ

| タイプ         | 英名         | 表示内容 | 判定基準     |
| -------------- | ------------ | -------- | ------------ |
| スマートフォン | `smartphone` | 目のみ   | 画面幅ベース |
| タブレット     | `tablet`     | 目 + 口  | 画面幅ベース |

## ルーティング構造

```
/ (ホーム) … モード選択画面
├─ /face                (表情認識モード)
├─ /voice               (音声感情モード)
├─ /display/:patternId  (パターン全面表示)
├─ /expressions         (表情一覧)
├─ /editor(/:id)        (ドット絵エディタ)
├─ /gallery             (ギャラリー)
└─ /profile             (プロフィール / 要ログイン)
```

全面表示ページ（`/face`, `/voice`, `/display/*`）ではナビゲーションバーが非表示になります。
